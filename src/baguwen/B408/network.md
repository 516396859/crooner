---
title: 计算机网络
icon: file
author: Cheney
date: 2024-05-06
isOriginal: true
category: Java
order: 1
---


### 待补充，问的较少！



### 1. HTTP 响应码有哪些？分别代表什么含义？
200：请求成功
301：永久重定向，302：临时重定向
400：客户端请求错误，404：未找到可用资源
500：Web服务器错误


---

### 2. Forward 和 Redirect 的区别？ 
forward是服务器内部的重定向，服务器内部帮客户去请求某个servlet再由它返回响应内容，浏览器的URl地址不变。Redirect是客户端请求服务器，然后服务器给客户端返回了一个 302 状态码和新的 location，客户端重新发起 HTTP 请求服务器给客户端响应 location 对应的 URL 地址，浏览器的 URL 地址发生了变化。
- forward 只建发起了一次http连接，redirect发起了两次http请求；
- forward 是服务器内部的重定向，request 在整个重定向过程中是不变的，可共享数据。


---

### 3. Get 和 Post 请求有哪些区别？
- get请求用来获取服务器资源，post请求一般用来提交数据
- get在url中？后面使用key=value的形式提交参数，post通过表单数据放在请求消息体中传参。
- get明文传输有传输长度限制，post理论上没有长度限制二进制数据

---

### 4. 说说 TCP 与 UDP 的区别，以及各自的优缺点？
- TCP面向连接提供可靠服务，UDP面向无连接尽最大努力交付不保证可靠性。
- TCP只能是点到点的，UDP支持一对多、多对一；TCP用在http等需要可靠传输的场景，UDP用在语音、视频等不要求严格可靠的领域。


---



### 5. HTTPS了解吗？
https协议是http的安全版本，通过加密通信保证数据传输的安全性，加密方式是SSL协议。当访问一个网站时，首先向CA机构获取网站证书，包括了网站公钥，然后使用公钥对明文(包括了自己的公钥)进行加密传输到目标服务器。服务器拿到数据使用私钥进行解密，然后将响应使用客户的公钥进行加密传输给客户机。


---

### 6. 说一下 HTTP 和 HTTPS 的区别？
- url协议不一样，https协议使用了SSL协议加密
- https由于需要加密消耗更多资源
- 端口不一样，https默认443，http为80


---

### 7. 说说HTTP、TCP、Socket 的关系是什么？
- TCP是传输层协议，面向连接提供可靠数据传输服务。
- HTTP 是应用层协议，是从 Web 服务器传输超文本到本地浏览器的传送协议 。
- Socket 是套接字（IP地址：端口号），可以看成是两个网络应用程序进行通信时，各自通信连接中的端点。Socket 是 TCP/IP 网络的 API ，它把复杂的 TCP/IP 协议族隐藏在Socket 接口后面 。HTTP 基于 TCP 协议，所以可以使用 Socket 去建立一个 TCP 连接。  


---

### 8. 说一下HTTP的长连接与短连接的区别 ？  什么是长连接和短连接 ？
- HTTP协议的长连接和短连接，实质上是TCP协议的长连接和短连接 。 在HTTP/1.0中默认使用短链接，也就是说，浏览器和服务器每进行一次HTTP请求操作，就建立一次连接，任务结束就中断连接。
- 从HTTP/1.1起，默认使用长连接，用以保持连接特性。在使用长连接的情况下，当一个网页打开完成后，客户端和服务器之间用于传输HTTP数据的TCP连接不会关闭。Keep-Alive不会永久保持连接，它有一个保持时间，可以在不同的服务器软件（如Apache）中设定这个时间。


---



### 9. 长连接和短连接的优缺点？
- 长连接可以省去较多的TCP建立和关闭的操作，减少浪费，节约时间 。对于频繁请求资源的客户来说，较适用长连接。  如果存活功能的探测周期太长，Client与server之间的连接如果一直不关闭的话，会存在一个问题，随着客户端连接越来越多，server早晚有扛不住的时候，这时候server端需要采取一些策略来避免恶意连接。
- 短连接对于服务器来说管理较为简单，存在的连接都是有用的连接，不需要额外的控制手段。但如果客户请求频繁，将在TCP的建立和关闭操作上浪费时间和带宽。


---

### 10. TCP 为什么要三次握手，两次不行吗？为什么？
客户端第一次握手发送序列号x，同步字段SYN；服务端第二次握手发送序列号y，同步字段和ack=x+1；客户端第三次握手发送ack=y+1，表示对二次握手的确认。如果没有第三次握手，可能第二次的连接客户端没有收到，有第三次握手的话服务器就能直到客户机有没有收到连接请求。回传 SYN 则是为了建立并确认从服务端到客户端的通信。 


---




### 11. 谈谈四次挥手？
如果服务器收到第四次挥手的数据，表明客户机收到了第三次服务器发给客户机的回收消息，因此这时可以进入Close状态，此时客户机还不能立即关闭，而是需要等待2倍传输时长之后再关闭。如果客户端等待 2MSL后依然没有收到回复，就证明服务端已正常关闭，随后，客户端也可以关闭连接了。如果等待时间内收到服务器FIN请求（第三次挥手），表明第四次挥手丢失了，客户端重发！


---

### 12. 造成粘包和拆包现象的原因？
- TCP 发送缓冲区剩余空间不足以发送一个完整的数据包，将发生拆包；
- 要发送的数据超过了最大报文长度的限制，TCP 传输数据时进行拆包；
- 要发送的数据包小于 TCP 发送缓冲区剩余空间，TCP 将多个数据包写满发送缓冲区一次发送出去，将发生粘包；
- 接收端没有及时读取 TCP 发送缓冲区中的数据包，将会发生粘包


---

### 13. 说一下 TCP 粘包是怎么产生的？怎么解决粘包问题的？
TCP 传输数据基于字节流，从应用层到 TCP 传输层的多个数据包是一连串的字节流是没有边界的，而且 TCP 首部并没有记录数据包的长度，所以 TCP 传输数据的时候可能会发送粘包和拆包的问题；而 UDP 是基于数据报传输数据的，UDP 首部也记录了数据报的长度，可以轻易的区分出不同的数据包的边界。
- 解决粘包问题：固定的消息长度；特殊分隔符；添加消息头；


---

### 14. TCP 如何保证可靠性？
- 序列号和确认号机制： TCP 发送端发送数据包的时候会选择一个 seq 序列号，接收端收到数据包后会检测数据包的完整性，如果检测通过会响应一个 ack 确认号表示收到了数据包。  
- 超时重发机制：  TCP 发送端发送了数据包后会启动一个定时器，如果一定时间没有收到接受端的确认后，将会重新发送该数据包。  
- 对乱序数据包重新排序：从 IP 网络层传输到 TCP 层的数据包可能会乱序，TCP 层会对数据包重新排序再发给应用层。  
- 丢弃重复数据： 从 IP 网络层传输到 TCP 层的数据包可能会重复，TCP 层会丢弃重复的数据包。
- 流量控制：  TCP 用了流量控制协议（可变大小的滑动窗口协议）来实现。  


---



### 15. OSI 的七层模型都有哪些？
- 应用层：各种应用程序协议，比如 HTTP、HTTPS、FTP、SOCKS 安全套接字协议、DNS 域名系统、GDP 网关发现协议等等。
- 表示层：加密解密、转换翻译、压缩解压缩，比如 LPP 轻量级表示协议。
- 会话层：不同机器上的用户建立和管理会话，比如 SSL 安全套接字层协议、TLS 传输层安全协议、RPC 远程过程调用协议等等。
- 传输层：接受上一层的数据，在必要的时候对数据进行分割，并将这些数据交给网络层，保证这些数据段有效到达对端，比如 TCP 传输控制协议、UDP 数据报协议。
- 网络层：控制子网的运行：逻辑编址、分组传输、路由选择，比如 IP、IPV6、SLIP 等等。
- 数据链路层：物理寻址，同时将原始比特流转变为逻辑传输路线，比如 XTP 压缩传输协议、PPTP 点对点隧道协议等等。
- 物理层：机械、电子、定时接口通信信道上的原始比特流传输，比如 IEEE802.2 等等。


---

### 16. 浏览器中输入：“www.baidu.com”之后都发生了什么？请详细阐述  
- 由域名→IP地址 寻找IP地址的过程依次经过了浏览器缓存、系统缓存、hosts文件、路由器缓存、 递归搜索根域名服务器。
- 建立TCP/IP连接（三次握手具体过程，先建立TCP/IP连接才能发送HTTP请求）  
- 由浏览器发送一个HTTP请求  
- 经过路由器的转发，通过服务器的防火墙，该HTTP请求到达了服务器  
- 服务器处理该HTTP请求，返回一个HTML文件  
- 浏览器解析该HTML文件，并且显示在浏览器端


---

### 17. 说说HTTP协议与TCP/IP协议的关系
- HTTP的长连接和短连接本质上是TCP长连接和短连接  
- HTTP属于应用层协议，在传输层使用TCP协议，在网络层使用IP协议  
- IP协议主要解决网络路由和寻址问题  
- TCP协议主要解决如何在IP层之上可靠地传递数据包，使得网络上接收端收到发送端所发出的所有包，并且顺序与发送顺序一致。TCP协议是可靠的、面向连接的。


---

### 18. 如何理解HTTP协议是无状态的？
HTTP协议是无状态的，指的是协议对于事务处理没有记忆能力，服务器不知道客户端是什么状态。也就是说，打开一个服务器上的网页和上一次打开这个服务器上的网页之间没有任何联系。HTTP是一个无状态的面向连接的协议，无状态不代表HTTP不能保持TCP连接，更不能代表HTTP使用的是UDP协议（无连接）。


---



### 19. HTTP协议是无状态的如何保存用户状态？
Session 机制的存在就是为了解决这个问题， Session 的主要作⽤就是通过服务端记录⽤户的状态。典型的场景是购物车，当你要添加商品到购物车的时候，系统不知道是哪个用户操作的，因为 HTTP 协议是无状态的。服务端给特定的用户创建特定的 Session 之后就可以标识这个用户并且跟踪这个用户了，通过在 Cookie 中附加⼀个 Session ID 来⽅式来跟踪。Cookie 被禁用怎么办?   最常用的就是利用 URL 重写把 Session ID 直接附加在 URL 路径的后⾯。


---

### 20. IP 地址分为几类，每类都代表什么，私网是哪些？
大致上分为公共地址和私有地址两大类，公共地址可以在外网中随意访问，私有地址只能在内网访问只有通过代理服务器才可以和外网通信。  
- 10开头的IP地址：10.0.0.0～10.255.255.255  
- 192.168.开头的地址：192.168.0.0～192.168.255.255  
- 172.16 到172.31之间的地址：172.16.0.0～ 172.31.255.255  
0.0.0.0 路由器转发使用，255.255.255.255 局域网下的广播地址 ，127.x.x.x 保留  


---



### 21. 说域名解析详细过程？
本地域名服务器、根域名服务器、顶级域名服务器、区域服务器 
- 递归解析
- 迭代解析


---

### 22. HTTP1.0、HTTP1.1、HTTP2.0的关系和区别
- 1.0：短连接，每次请求建立TCP连接
- 1.1：长连接，使用keep-alive避免频繁建立连接与释放。
- 2.0：引入二进制数据帧和流的概念，其中帧对数据进行顺序标识，帧可以乱序发送，然后再根据每个帧头部的流标识符（stream id）重新组装。服务器推送：服务器除了对最初请求的响应外，服务器还可以额外的向客户端推送资源，而无需客户端明确的请求。


---

### 23. OSI这样分层有什么好处？
- 人们可以很容易的讨论和学习协议的规范细节。
- 层间的标准接口方便了工程模块化。
- 创建了一个更好的互连环境。
- 降低了复杂度，使程序更容易修改，产品开发的速度更快。
- 每层利用紧邻的下层服务，更容易记住个层的功能。


---

### 24. 说说TCP/IP四层网络模型
应用层、传输层、网络层、网络接口层
-  应用层位于传输层之上，主要提供两个终端设备上的应用程序之间信息交换的服务，它定义了信息交换的格式，消息会交给下⼀层传输层来传输。应⽤层协议定义了网络通信规则，对于不同的⽹络应⽤需要不同的应用层协议。  （HTTP,SMTP,POP3,SSH,DNS,FTP）
- 传输层的主要任务就是负责向两台终端设备进程之间的通信提供通⽤的数据传输服务(TCP,UDP)。
- 网络层负责为分组交换网上的不同主机提供通信服务。 在发送数据时，网络层把运输层产生的报文段或用户数据报封装成分组和包进行传送。在 TCP/IP 体系结构中，由于网络层使⽤ IP 协议，因此分组也叫 IP 数据报，简称数据报。网络层的还有⼀个任务就是选择合适的路由，使源主机运输层所传下来的分组，能通过⽹络层中的路由器找到⽬的主机。（IP,ARP,ICMP,NAT）
- 可以把网络接口层看作是数据链路层和物理层的合体 ,数据链路层的作⽤是将⽹络层交下来的 IP 数据报组装成帧，在两个相邻节点间的链路上传送帧。每⼀帧包括数据和必要的控制信息（如同步信息，地址信息，差错控制等）物理层的作用是实现相邻计算机节点之间比特流的透明传送，尽可能屏蔽掉具体传输介质和物理设备的差异。（MAC,CSMA/CD）


---

### 25. Session和Cookie工作原理
session保存在服务器中，sessionID作为Cookie保存在客户端中。

